{"version":3,"sources":["components/Modal/Modal.jsx","components/PlayerList/PlayerList.tsx","components/Form/Form.tsx","EventSourcing.tsx","App.js","index.js"],"names":["ModalContent","active","setActive","playerById","className","onClick","e","stopPropagation","src","avatar","alt","name","score","bio","PlayerList","players","findPlayerById","map","player","Form","setValue","setSelectedSort","value","placeholder","type","onChange","target","EventSourcing","useState","setPlayers","modalActive","setModalActive","playerByID","setPlayerById","selectedSort","useEffect","subscribe","a","eventSource","EventSource","event","JSON","parse","data","prev","onmessage","sortPlayers","useMemo","sort","firstScore","secondScore","firstPlayer","secondPlayer","length","filteredPlayers","filter","toLowerCase","includes","playerId","findPlayer","find","role","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df105424.chunk.js","sourcesContent":["import React from \"react\";\nimport './modal.css'\n\nexport const ModalContent = ({ active, setActive, playerById }) => {\n    return (\n        <div className={active ? 'modal active' : 'modal'} onClick={() => setActive(false)}>\n            <div className=\"modal__content\" onClick={e => e.stopPropagation()}>\n                <img className=\"modal_img\" src={`${playerById.avatar}`} alt=\"img\"/>\n                <div className=\"modal__name\">{playerById.name}</div>\n                <div className=\"modal__score\">Score: {playerById.score}</div>\n                <div className=\"modal__bio\">{playerById.bio}</div>\n                <button className=\"modal__button\" onClick={() => setActive(false)}>X Close</button>\n            </div>\n        </div>\n    )\n}","import React from \"react\";\nimport './Players.css'\nimport { PropsPlayerList } from \"../type/type\";\n\nexport const PlayerList:React.FC<PropsPlayerList> = ({ players, setActive, findPlayerById }) => {\n    return (\n        <div className=\"list__player\">\n            {players.map((player) =>\n                <div\n                    onClick={() => {\n                        findPlayerById(player.score)\n                        setActive(true)\n                    }}\n                    className=\"alert alert-light text-dark player\"\n                    key={player.score}\n                >\n                    <span>\n                        <img className=\"img\" src={`${player.avatar}`} alt=\"img\"/>\n                        {' '}\n                        <span>{`${player.name}`}</span>\n                    </span>\n                    <span>\n                        {`score: ${player.score}`}\n                    </span>\n                </div>\n            )}\n        </div>\n    )\n}\n","import React from \"react\";\nimport './form.css'\nimport { PropsForm } from \"../type/type\";\n\nexport const Form:React.FC<PropsForm> = ({ setValue, setSelectedSort, value }) => {\n    return (\n        <form className=\"form alert-light text-light\">\n            <label>\n                <input\n                    className=\"form__input\"\n                    placeholder=\"Playerâ€™s name\"\n                    type=\"text\"\n                    value={value}\n                    onChange={(e) => {\n                        setValue(e.target.value)\n                    }}\n                />\n            </label>\n            <div className=\"input-group-btn\">\n                <select\n                    onChange={(e) => setSelectedSort(e.target.value)}\n                    className=\"btn btn-default dropdown-toggle form__select\"\n                >\n                    <option value=\"score\">Score</option>\n                    <option value=\"nameLength\">NameLength</option>\n                    <option value=\"name\">Name</option>\n                </select>\n            </div>\n        </form>\n    )\n}\n","import React, {useEffect, useMemo, useState} from \"react\";\nimport { ModalContent } from \"./components/Modal/Modal\";\nimport { PlayerList } from \"./components/PlayerList/PlayerList\";\nimport { Form } from \"./components/Form/Form\";\nimport { IPlayer } from \"./components/type/type\";\n\nexport const EventSourcing:React.FC<any> = () => {\n    const [players, setPlayers] = useState<IPlayer[]>([])\n    const [value, setValue] = useState('')\n    const [modalActive, setModalActive] = useState(false)\n    const [playerByID, setPlayerById] = useState({})\n    const [selectedSort, setSelectedSort] = useState('score')\n\n    useEffect(() => {\n        subscribe()\n    }, [])\n\n    const subscribe = async () => {\n            const eventSource = new EventSource(`http://localhost:5000/`)\n            eventSource.onmessage = await function (event) {\n                const player = JSON.parse(event.data)\n                setPlayers(prev => [...prev, player])\n        }\n    }\n\n    const sortPlayers = useMemo(() => {\n        switch (selectedSort) {\n            case 'score':\n               return players.sort(function(firstScore, secondScore){\n                    if(firstScore[selectedSort] > secondScore[selectedSort]) { return -1; }\n                    if(firstScore[selectedSort] < secondScore[selectedSort]) { return 1; }\n                    return 0\n                })\n\n            case 'nameLength':\n                return players.sort(function(firstPlayer, secondPlayer){\n                    if(firstPlayer['name'].length > secondPlayer['name'].length) { return -1; }\n                    if(firstPlayer['name'].length < secondPlayer['name'].length) { return 1; }\n                    return 0\n                })\n\n            case 'name':\n                return players.sort(function(firstPlayer, secondPlayer){\n                    if(firstPlayer[selectedSort] < secondPlayer[selectedSort]) { return -1; }\n                    if(firstPlayer[selectedSort] > secondPlayer[selectedSort]) { return 1; }\n                    return 0\n                })\n\n            default:\n                return players\n        }\n    }, [players, selectedSort])\n\n    const filteredPlayers = useMemo(() => {\n        return sortPlayers.filter(player => (player.name.toLowerCase()).includes((value).toLowerCase()))\n    },[sortPlayers, value]);\n\n    const findPlayerById = (playerId:number) => {\n        const findPlayer:any = players.find(player => player.score === playerId)\n        setPlayerById(findPlayer)\n    }\n\n    if (!players.length) {\n        return (\n            <div className=\"loading\">\n                <span>No players available...</span>\n                <br/>\n                <div className=\"spinner-border text-warning\" role=\"status\">\n                    <span className=\"visually-hidden\">Loading...</span>\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <>\n        <h1 className=\"title\">Score board</h1>\n        <div className=\"center\">\n            <Form\n                value={value}\n                setValue={setValue}\n                setSelectedSort={setSelectedSort}\n            />\n            <div className=\"list__player\">\n            <PlayerList\n                players={filteredPlayers}\n                findPlayerById={findPlayerById}\n                setActive={setModalActive}\n            />\n                <ModalContent\n                    active={modalActive}\n                    setActive={setModalActive}\n                    playerById={playerByID}\n                />\n            </div>\n        </div>\n        </>\n    )\n}\n\n","import './App.css';\nimport { EventSourcing } from \"./EventSourcing\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <EventSourcing />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n\n);\n\n"],"sourceRoot":""}